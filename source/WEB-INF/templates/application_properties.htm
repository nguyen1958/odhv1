<html>
<head>
<title>Configuration - Gestion de Demarches Administratives </title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<script language="JavaScript">
</script>

<body background="images/fond03.gif" link="#FFFFFF" leftmargin="10" topmargin="10" marginwidth="10" marginheight="10">
<p>
<font color="#800000" size="4"><b>Gestionnaire d'Application</b></font>
- <a href="application?action=mmode" style="color:blue;" >Mode maintenance</a>
/ <font color="#800000" size="4">Configuration</font>
/ <a href="application?action=structure" style="color:blue;" >Structure SQL</a>
/ <a href="application?action=sessions" style="color:blue;" >Utilisateurs en ligne</a>
/ <a href="intro" style="color:blue;" >Retour à L'observatoire d'habitat</a>

<p>
<font color="#800000" size="3">Diff&eacute;rences de configurations : $!differences.size() diff&eacute;rences </font>
<br>
<table width="100%" border="1" cellspacing="0" cellpadding="0">
  <tr height="25" >
    <td align="center" ><strong><font size="2" face="Verdana, Arial, Helvetica, sans-serif">&nbsp;N&deg;</font></strong></td>
    <td align="center" ><strong><font size="2" face="Verdana, Arial, Helvetica, sans-serif">Fichier</font></strong></td>
    <td align="center" ><strong><font size="2" face="Verdana, Arial, Helvetica, sans-serif">Etat</font></strong></td>
    <td align="center" ><strong><font size="2" face="Verdana, Arial, Helvetica, sans-serif">Propriet&eacute;</font></strong></td>
    <td align="center" ><strong><font size="2" face="Verdana, Arial, Helvetica, sans-serif">Valeur actuelle</font></strong></td>
    <td align="center" ><strong><font size="2" face="Verdana, Arial, Helvetica, sans-serif">Nouvelle valeur</font></strong></td>
  </tr>
  #set($counter = 0 )
  #foreach($item in $differences)
  <tr>
    <td align="right" ><strong><font size="2" face="Verdana, Arial, Helvetica, sans-serif">$counter</font></strong></td>
    <td align="left" background="images/fond_liste.gif"><strong><font size="2" face="Verdana, Arial, Helvetica, sans-serif">&nbsp;&nbsp;$!item.fileName</font></strong></td>
    <td align="center" background="images/fond_liste.gif" nowrap><strong><font size="2" face="Verdana, Arial, Helvetica, sans-serif">&nbsp;&nbsp;
    #if(!$item.oldFileName)
        Nouveau fichier
    #elseif(!$item.newFileName)
        Ancien fichier
    #else
      #if($item.propertyStatus == 3)
          Ancienne propriet&eacute;
      #elseif($item.propertyStatus == 4)
          Nouvelle propriet&eacute;
      #elseif($item.propertyStatus == 2)
          Chang&eacute;
      #end
    #end

    </font></strong></td>
    <td align="left" background="images/fond_liste.gif"><strong><font size="2" face="Verdana, Arial, Helvetica, sans-serif">
    &nbsp;&nbsp;$!item.propertyName
    </font></strong></td>
    #set($pOldValue = $!item.propertyOldValue)
    #if($item.propertyName == "datasource.password")
      #if($pOldValue && !$pOldValue.equals(""))
        #set($pOldValue = "******")
      #end
    #end
    #set($pNewValue = $!item.propertyNewValue)
    #if($item.propertyName == "datasource.password")
     #if($pNewValue && !$pNewValue.equals(""))
      #set($pNewValue = "******")
     #end
    #end
    <td align="left" background="images/fond_liste.gif"><strong><font size="2" face="Verdana, Arial, Helvetica, sans-serif">
    <input value="$!pOldValue" size="40" style="width:100%" >
    </font></strong></td>
    <td align="left" background="images/fond_liste.gif"><strong><font size="2" face="Verdana, Arial, Helvetica, sans-serif">
    <input value="$!pNewValue" size="40" style="width:100%" >
    </font></strong></td>
    #set($counter = $counter + 1)
   #set($pOldValue = "")
   #set($pNewValue = "")
   </tr>
  #end
</table>
  <br>
  <br>
<font color="#800000" size="4">Configuration actuelle </font>
<table width="100%" border="1" cellspacing="0" cellpadding="0">
  <tr height="25" >
    <td align="center" ><strong><font size="2" face="Verdana, Arial, Helvetica, sans-serif">&nbsp;N&deg;</font></strong></td>
    <td align="center" ><strong><font size="2" face="Verdana, Arial, Helvetica, sans-serif">Fichier</font></strong></td>
    <td align="center" ><strong><font size="2" face="Verdana, Arial, Helvetica, sans-serif">Propriet&eacute;</font></strong></td>
    <td align="center" ><strong><font size="2" face="Verdana, Arial, Helvetica, sans-serif">Valeur actuelle</font></strong></td>
  </tr>
  #set($counter = 0 )
  #foreach($item in $configuration)
  <tr>
    <td align="right" ><strong><font size="2" face="Verdana, Arial, Helvetica, sans-serif">$counter</font></strong></td>
    <td align="left" background="images/fond_liste.gif"><strong><font size="2" face="Verdana, Arial, Helvetica, sans-serif">&nbsp;&nbsp;$!item.fileName</font></strong></td>
    <td align="left" background="images/fond_liste.gif"><strong><font size="2" face="Verdana, Arial, Helvetica, sans-serif">
    &nbsp;&nbsp;$!item.propertyName
    </font></strong></td>
    <td align="left" background="images/fond_liste.gif"><strong><font size="2" face="Verdana, Arial, Helvetica, sans-serif">&nbsp;&nbsp;
    #set($pOldValue = $!item.propertyOldValue)
    #if($item.propertyName == "datasource.password")
      #if($pOldValue && !$pOldValue.equals(""))
        #set($pOldValue = "******")
      #end
    #end
    $!pOldValue
    </font></strong></td>
    #set($pOldValue = "")
   </tr>
    #set($counter = $counter + 1)
   </tr>
  #end
</table>
</body>
</head>
</html>